<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Not√≠cias Brasil - Todas as not√≠cias</title>
<style>
:root{
  --primary:#1e3a8a;
  --bg:#f1f5f9;
  --card:#ffffff;
  --text:#111827;
  --accent:#2563eb;
  --accent2:#f59e0b;
}
.dark{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#f1f5f9;
  --accent:#3b82f6;
  --accent2:#fbbf24;
}
body{
  margin:0;
  font-family:'Arial', Helvetica, sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:0.3s;
}
header{
  background:var(--primary);
  color:white;
  padding:25px;
  text-align:center;
}
header h1{
  margin:0;
}
button{
  padding:10px 15px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  margin:5px;
}
.primary{
  background:var(--accent);
  color:white;
}
.primary:hover{
  background:var(--accent2);
}
nav{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin:20px 0;
}
nav button.active{
  background:var(--accent2);
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px;
}
.card{
  background:var(--card);
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  transition:transform 0.3s, box-shadow 0.3s;
}
.card:hover{
  transform:translateY(-5px) rotateX(1deg);
  box-shadow:0 15px 25px rgba(0,0,0,0.25);
}
.card img{
  width:100%;
  height:180px;
  object-fit:cover;
}
.card-content{
  padding:15px;
  display:flex;
  flex-direction:column;
  flex-grow:1;
}
.card-content h2{
  font-size:1.2em;
  margin:0 0 10px 0;
}
.card-content p{
  flex-grow:1;
}
.card-content a{
  color:var(--accent);
  font-weight:bold;
  margin-top:10px;
  text-decoration:none;
}
.card-content a:hover{
  text-decoration:underline;
}
.card-content small{
  color:gray;
  margin-top:5px;
  display:block;
}
footer{
  text-align:center;
  padding:20px;
  background:var(--primary);
  color:white;
  margin-top:40px;
}
@media(max-width:600px){
  .container{
    grid-template-columns:1fr;
  }
}
</style>
</head>
<body>
<header>
  <h1>üì∞ Portal Not√≠cias Brasil</h1>
  <p>Not√≠cias recentes e antigas, com fotos e categorias</p>
  <button onclick="toggleDark()">üåô Modo Escuro</button>
</header>
<nav>
  <button class="active" onclick="mudarCategoria('todas')">Todas</button>
  <button onclick="mudarCategoria('politics')">Pol√≠tica</button>
  <button onclick="mudarCategoria('sports')">Esportes</button>
  <button onclick="mudarCategoria('business')">Economia</button>
  <button onclick="mudarCategoria('technology')">Tecnologia</button>
  <button onclick="mudarCategoria('health')">Sa√∫de</button>
</nav>
<div class="container" id="noticias">
  <p>Carregando not√≠cias...</p>
</div>
<footer>
  ¬© 2026 Portal Not√≠cias Brasil
</footer>

<script>
// DARK MODE
function toggleDark(){document.body.classList.toggle("dark");}

// Categoria ativa
let categoriaAtual = 'todas';
// Armazena todas as not√≠cias carregadas
let todasNoticias = [];

// Mudar categoria
function mudarCategoria(categoria){
  categoriaAtual = categoria;
  document.querySelectorAll('nav button').forEach(btn=>{
    btn.classList.remove('active');
    if((categoria==='todas' && btn.textContent==='Todas') || btn.textContent.toLowerCase()===categoria) btn.classList.add('active');
  });
  renderizarNoticias();
}

// Carregar not√≠cias da API NewsAPI
async function carregarNoticias(){
  try{
    let apiKey = "YOUR_API_KEY"; // substitua por sua chave NewsAPI
    let categoriasAPI = ['politics','sports','business','technology','health'];
    
    for(let cat of categoriasAPI){
      let url = `https://newsapi.org/v2/top-headlines?country=br&category=${cat}&pageSize=50&apiKey=${apiKey}`;
      let res = await fetch(url);
      let data = await res.json();
      if(data.articles) {
        data.articles.forEach(n=>{n.categoria=cat; todasNoticias.push(n);});
      }
    }

    // Tamb√©m carrega not√≠cias gerais
    let urlGeral = `https://newsapi.org/v2/top-headlines?country=br&pageSize=50&apiKey=${apiKey}`;
    let resG = await fetch(urlGeral);
    let dataG = await resG.json();
    if(dataG.articles) dataG.articles.forEach(n=>{n.categoria='todas'; todasNoticias.push(n);});

    // Ordena todas por data decrescente
    todasNoticias.sort((a,b)=> new Date(b.publishedAt)-new Date(a.publishedAt));
    
    renderizarNoticias();
    
  }catch(err){
    document.getElementById("noticias").innerHTML = `<p>Erro ao carregar not√≠cias: ${err}</p>`;
    console.error(err);
  }
}

// Renderizar not√≠cias filtrando por categoria
function renderizarNoticias(){
  const container = document.getElementById("noticias");
  let noticiasFiltradas = categoriaAtual==='todas' ? todasNoticias : todasNoticias.filter(n=>n.categoria===categoriaAtual);
  if(noticiasFiltradas.length===0){
    container.innerHTML = "<p>N√£o h√° not√≠cias dispon√≠veis nesta categoria.</p>";
    return;
  }
  container.innerHTML = noticiasFiltradas.map(n=>`
    <div class="card">
      ${n.urlToImage ? `<img src="${n.urlToImage}" alt="Not√≠cia">` : ""}
      <div class="card-content">
        <h2>${n.title}</h2>
        <p>${n.description || 'Sem resumo dispon√≠vel.'}</p>
        <a href="${n.url}" target="_blank">Ler not√≠cia completa</a>
        <small>Publicado em: ${new Date(n.publishedAt).toLocaleString()}</small>
      </div>
    </div>
  `).join('');
}

// Atualiza not√≠cias a cada 5 minutos sem remover antigas
carregarNoticias();
setInterval(carregarNoticias, 300000);

</script>
</body>
</html>
