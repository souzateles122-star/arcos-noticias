<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portal Not√≠cias Brasil - Estilo G1</title>
<meta name="description" content="Portal de not√≠cias do Brasil, estilo G1, com categorias, not√≠cias recentes e antigas, atualizado automaticamente com APIs p√∫blicas.">
<style>
:root{
  --primary:#1e3a8a;
  --bg:#f1f5f9;
  --card:#ffffff;
  --text:#111827;
  --accent:#2563eb;
  --accent2:#f59e0b;
  --new-badge:#10b981;
}
.dark{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#f1f5f9;
  --accent:#3b82f6;
  --accent2:#fbbf24;
  --new-badge:#34d399;
}
body{
  margin:0;
  font-family:'Arial', Helvetica, sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:0.3s;
}
header{
  background:var(--primary);
  color:white;
  padding:20px;
  text-align:center;
}
header h1{margin:0;}
button{padding:8px 15px;border:none;border-radius:6px;cursor:pointer;margin:5px;}
.primary{background:var(--accent);color:white;}
.primary:hover{background:var(--accent2);}
nav{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:15px 0;}
nav button.active{background:var(--accent2);}
section.section-destaque{
  display:flex;
  flex-wrap:wrap;
  gap:20px;
  padding:0 20px;
}
.section-destaque .card{
  flex:1 1 48%;
  max-height:400px;
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:20px;
}
.card{
  background:var(--card);
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  transition:transform 0.3s,box-shadow 0.3s;
}
.card:hover{
  transform:translateY(-5px) rotateX(1deg);
  box-shadow:0 15px 25px rgba(0,0,0,0.25);
}
.card img{width:100%;height:180px;object-fit:cover;}
.card-content{padding:15px;display:flex;flex-direction:column;flex-grow:1;}
.card-content h2{font-size:1.2em;margin:0 0 10px 0;}
.card-content p{flex-grow:1;}
.card-content a{color:var(--accent);font-weight:bold;margin-top:10px;text-decoration:none;}
.card-content a:hover{text-decoration:underline;}
.card-content small{color:gray;margin-top:5px;display:block;}
.badge-new{
  display:inline-block;
  background:var(--new-badge);
  color:white;
  font-size:0.8em;
  padding:2px 6px;
  border-radius:6px;
  margin-left:5px;
}
footer{text-align:center;padding:20px;background:var(--primary);color:white;margin-top:40px;}
@media(max-width:600px){
  .container, .section-destaque{grid-template-columns:1fr;}
  .section-destaque .card{flex:1 1 100%;}
}
</style>
</head>
<body>

<header>
  <h1>üì∞ Portal Not√≠cias Brasil</h1>
  <p>Portal estilo G1 com not√≠cias recentes e antigas por categoria</p>
  <button onclick="toggleDark()">üåô Modo Escuro</button>
</header>

<nav>
  <button class="active" onclick="mudarCategoria('todas')">Todas</button>
  <button onclick="mudarCategoria('politics')">Pol√≠tica</button>
  <button onclick="mudarCategoria('sports')">Esportes</button>
  <button onclick="mudarCategoria('health')">Sa√∫de</button>
  <button onclick="mudarCategoria('technology')">Tecnologia</button>
</nav>

<section class="section-destaque" id="destaques">
  <!-- Not√≠cias em destaque v√£o aqui -->
</section>

<div class="container" id="noticias">
  <p>Carregando not√≠cias...</p>
</div>

<footer>¬© 2026 Portal Not√≠cias Brasil</footer>

<script>
// Dark mode
function toggleDark(){document.body.classList.toggle("dark");}

// Categoria ativa
let categoriaAtual = 'todas';
let todasNoticias = [];

// Mudar categoria
function mudarCategoria(categoria){
  categoriaAtual = categoria;
  document.querySelectorAll('nav button').forEach(btn=>{
    btn.classList.remove('active');
    if((categoria==='todas' && btn.textContent==='Todas') || btn.textContent.toLowerCase()===categoria) btn.classList.add('active');
  });
  renderizarNoticias();
}

// Fun√ß√£o para carregar not√≠cias via NewsAPI
async function carregarNoticias(){
  try{
    const apiKey = "YOUR_API_KEY"; // Substitua por sua chave NewsAPI
    const categoriasAPI = ['politics','sports','health','technology'];

    let novasNoticias = [];

    // Buscar not√≠cias por categoria
    for(let cat of categoriasAPI){
      let url = `https://newsapi.org/v2/top-headlines?country=br&category=${cat}&pageSize=50&apiKey=${apiKey}`;
      let res = await fetch(url);
      let data = await res.json();
      if(data.articles){
        data.articles.forEach(n=>{
          n.categoria = cat;
          novasNoticias.push(n);
        });
      }
    }

    // Not√≠cias gerais (Todas)
    let urlGeral = `https://newsapi.org/v2/top-headlines?country=br&pageSize=50&apiKey=${apiKey}`;
    let resG = await fetch(urlGeral);
    let dataG = await resG.json();
    if(dataG.articles){
      dataG.articles.forEach(n=>{
        n.categoria = 'todas';
        novasNoticias.push(n);
      });
    }

    // Evita duplicados
    novasNoticias.forEach(n=>{
      if(!todasNoticias.some(a=>a.url===n.url)) todasNoticias.push(n);
    });

    // Ordena por data decrescente
    todasNoticias.sort((a,b)=>new Date(b.publishedAt)-new Date(a.publishedAt));

    renderizarDestaques();
    renderizarNoticias();

  }catch(err){
    document.getElementById("noticias").innerHTML = `<p>Erro ao carregar not√≠cias: ${err}</p>`;
    console.error(err);
  }
}

// Renderiza destaques (primeiras 2 not√≠cias de cada categoria)
function renderizarDestaques(){
  const destaqueContainer = document.getElementById("destaques");
  destaqueContainer.innerHTML = '';
  const destaquePorCategoria = ['politics','sports','health','technology'];
  destaquePorCategoria.forEach(cat=>{
    const primeira = todasNoticias.find(n=>n.categoria===cat);
    if(primeira){
      const pubDate = new Date(primeira.publishedAt);
      const isNew = (new Date() - pubDate) < 1000*60*60*12;
      destaqueContainer.innerHTML += `
      <div class="card">
        ${primeira.urlToImage ? `<img src="${primeira.urlToImage}" alt="Not√≠cia">` : ""}
        <div class="card-content">
          <h2>${primeira.title} ${isNew?'<span class="badge-new">Novo</span>':''}</h2>
          <p>${primeira.description||'Sem resumo dispon√≠vel.'}</p>
          <a href="${primeira.url}" target="_blank">Ler not√≠cia completa</a>
          <small>Publicado em: ${pubDate.toLocaleString()}</small>
        </div>
      </div>`;
    }
  });
}

// Renderiza not√≠cias restantes
function renderizarNoticias(){
  const container = document.getElementById("noticias");
  let noticiasFiltradas = categoriaAtual==='todas'? todasNoticias : todasNoticias.filter(n=>n.categoria===categoriaAtual);
  if(noticiasFiltradas.length===0){
    container.innerHTML = "<p>N√£o h√° not√≠cias dispon√≠veis nesta categoria.</p>";
    return;
  }
  const now = new Date();
  container.innerHTML = noticiasFiltradas.map(n=>{
    const pubDate = new Date(n.publishedAt);
    const isNew = (now - pubDate) < 1000*60*60*12;
    return `
    <div class="card">
      ${n.urlToImage ? `<img src="${n.urlToImage}" alt="Not√≠cia">` : ""}
      <div class="card-content">
        <h2>${n.title} ${isNew?'<span class="badge-new">Novo</span>':''}</h2>
        <p>${n.description||'Sem resumo dispon√≠vel.'}</p>
        <a href="${n.url}" target="_blank">Ler not√≠cia completa</a>
        <small>Publicado em: ${pubDate.toLocaleString()}</small>
      </div>
    </div>`;
  }).join('');
}

// Atualiza not√≠cias a cada 5 minutos
carregarNoticias();
setInterval(carregarNoticias,300000);

</script>
</body>
</html>
